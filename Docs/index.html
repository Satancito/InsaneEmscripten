<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- _BEGIN_APP_TITLE_ -->
    <title>Insane - Emscripten</title>
    <!-- _END___APP_TITLE_ -->
    <link rel="icon" href="Assets/favicon/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        // Warning!. This value is used in instantiation. You can modify, but don't delete.
        const moduleInstantiationParameters = {
            noInitialRun: false,
        };
    </script>
    <!-- _BEGIN_MODULE_SCRIPT_ -->
    <!-- The provided code is autogenerated. Do not modify/delete. -->
    <!-- _END___MODULE_SCRIPT_ -->
    <style>
        body {
            margin: 10px;
        }
    </style>
</head>

<body>
    <h1>Emscripten - Demo</h1>
    <button class="btn btn-outline-primary" onclick="onclickEvent(0)">ShowInfo</button>
    <button class="btn btn-outline-dark" onclick="onclickEvent(1)">Close</button>
    <div class="card w-100 mt-5">
        <div class="card-body">
            <h5 class="card-title">Browser info</h5>
            <p id="txtResult" class="card-text"></p>
        </div>
    </div>

    <script>

        function GetOrientationString(orientation) {
            switch (orientation) {
                case 0:
                    return "Landscape";
                case 1:
                    return "Portrait";
                case 2:
                    return "Square";
                default:
                    return "ðŸš«";
            }
        }
        function formatText(key, value = null, preLf = 0, postLf = 0) {
            return `${"<br />".repeat(preLf)}<b>${key}:</b> ${value || "ðŸš«"}${"<br />".repeat(postLf)}`;
        }
        async function onclickEvent(btn) {
            const id = document.getElementById("txtResult");

            try {
                switch (btn) {

                    case 0:
                        var innerHTML = "";
                        var myDate = new Date();
                        innerHTML += formatText("Browser", await /*ModuleName*/Insane.BrowserGetNameAsync(null), 1, 1);
                        innerHTML += formatText("Fingerprint", await /*ModuleName*/Insane.BrowserGetFingerprintAsync("Example Salt here"), 1, 1);
                        innerHTML += formatText("UserAgent", /*ModuleName*/Insane.BrowserGetUserAgent(), 0, 1);
                        innerHTML += formatText("Operating System", /*ModuleName*/Insane.BrowserGetOS(null), 0, 2);
                        innerHTML += formatText("ScreenHeight", /*ModuleName*/Insane.BrowserGetScreenHeight(), 0, 1);
                        innerHTML += formatText("ScreenWidth", /*ModuleName*/Insane.BrowserGetScreenWidth(), 0, 1);
                        innerHTML += formatText("ScreenSize", /*ModuleName*/Insane.BrowserGetScreenSize(), 0, 1);
                        innerHTML += formatText("Screen Orientation", GetOrientationString(/*ModuleName*/Insane.BrowserGetScreenOrientation()), 0, 2);

                        innerHTML += formatText("AvailableScreenHeight", /*ModuleName*/Insane.BrowserGetAvailableScreenHeight(), 0, 1);
                        innerHTML += formatText("AvailableScreenWidth", /*ModuleName*/Insane.BrowserGetAvailableScreenWidth(), 0, 1);
                        innerHTML += formatText("AvailableScreenSize", /*ModuleName*/Insane.BrowserGetAvailableScreenSize(), 0, 1);
                        innerHTML += formatText("AvailableScreenOrientation", GetOrientationString(/*ModuleName*/Insane.BrowserGetAvailableScreenOrientation()), 0, 2);

                        innerHTML += formatText("ViewportHeight", /*ModuleName*/Insane.BrowserGetViewportHeight(), 0, 1);
                        innerHTML += formatText("ViewportWidth", /*ModuleName*/Insane.BrowserGetViewportWidth(), 0, 1);
                        innerHTML += formatText("ViewportSize", /*ModuleName*/Insane.BrowserGetViewportSize(), 0, 1);
                        innerHTML += formatText("ViewportOrientation", GetOrientationString(/*ModuleName*/Insane.BrowserGetViewportOrientation()), 0, 2);

                        innerHTML += formatText("WebGLRenderer", /*ModuleName*/Insane.BrowserGetWebGLRenderer(), 0, 1);
                        innerHTML += formatText("WebGLVendor", /*ModuleName*/Insane.BrowserGetWebGLVendor(), 0, 2);

                        innerHTML += formatText("MaxTouchPoints", /*ModuleName*/Insane.BrowserGetMaxTouchPoints().toString(), 0, 1);
                        innerHTML += formatText("DeviceMemory", /*ModuleName*/Insane.BrowserGetDeviceMemory().toString(), 0, 1);
                        innerHTML += formatText("NavigatorHardwareConcurrency", /*ModuleName*/Insane.BrowserGetHardwareConcurrency(), 0, 2);
                        innerHTML += formatText("Language", /*ModuleName*/Insane.BrowserGetLanguage(), 0, 1);
                        innerHTML += formatText("Languages", " ", 0, 2);
                        innerHTML += "<ul>";
                        var langs = /*ModuleName*/Insane.BrowserGetLanguages();
                        for (let i = 0; i < langs.length; i++) {
                            innerHTML += "<li>" + formatText("Language", langs[i], 0, 0) + " </li>";
                        }
                        innerHTML += "</ul>";

                        innerHTML += formatText("TimezoneOffset Minutes", /*ModuleName*/Insane.BrowserGetTimezoneOffsetMinutes(), 0, 1);
                        innerHTML += formatText("TimezoneOffset Seconds",/*ModuleName*/Insane.BrowserGetTimezoneOffsetSeconds(), 0, 1);
                        innerHTML += formatText("TimezoneOffset Milliseconds",/*ModuleName*/Insane.BrowserGetTimezoneOffsetMilliseconds(), 0, 2);

                        innerHTML += formatText("NavigatorDoNotTrack",  /*ModuleName*/Insane.BrowserGetDoNotTrack().toString(), 0, 1);
                        innerHTML += formatText("Cookies Supported", /*ModuleName*/Insane.BrowserHasCookiesSupport().toString(), 0, 1);

                        var mimeTypes = /*ModuleName*/Insane.BrowserGetMimeTypes();
                        innerHTML += formatText("NavigatorMimeTypes", mimeTypes.length, 1, 1);
                        innerHTML += "<ul>";
                        for (let i = 0; i < mimeTypes.length; i++) {
                            innerHTML += "<li> <b>MimeType { </b>" +
                                (formatText("Type", mimeTypes[i].Type) + " | " +
                                    formatText("Description", mimeTypes[i].Description) + " | " +
                                    formatText("Suffixes", mimeTypes[i].Suffixes)) +
                                "<b> } </b> </li>";
                        }
                        innerHTML += "</ul>";

                        var plugins = /*ModuleName*/Insane.BrowserGetPlugins();
                        innerHTML += formatText("NavigatorPlugins", plugins.length, 1, 1);
                        innerHTML += "<ul>";
                        for (let i = 0; i < plugins.length; i++) {
                            innerHTML += "<li> <b>Plugin { </b>" +
                                formatText("Name", plugins[i].Name);
                            innerHTML += "<ul>";
                            for (let j = 0; j < plugins[i].MimeTypes.length; j++) {
                                innerHTML += "<li> <b>MimeType { </b>" +
                                    (formatText("Type", plugins[i].MimeTypes[j].Type) + " | " +
                                        formatText("Description", plugins[i].MimeTypes[j].Description) + " | " +
                                        formatText("Suffixes", plugins[i].MimeTypes[j].Suffixes)) +
                                    "<b> } </b> </li>";
                            }
                            innerHTML += "</ul>";
                            innerHTML += "<b> }</b></li>";
                        }
                        innerHTML += "</ul><br />";
                        let counter = 0;
                        for (var value in Object.getOwnPropertyNames(Navigator.prototype)) {
                            counter++;
                        }
                        innerHTML += formatText("globalThis.navigator Object TotalProperties", counter.toString(), 0, 1);

                        id.innerHTML = innerHTML;
                        break;
                    case 1:
                        globalThis.close();
                }
            } catch (error) {
                id.innerHTML += String(error) + "<br />";
            }

        }
    </script>
</body>

</html>