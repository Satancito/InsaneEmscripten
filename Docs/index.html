<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insane - Emscripten</title>
    <link rel="icon" href="Assets/favicon/favicon.ico">
    <script type="text/javascript" src="Insane.js"></script>
</head>

<body>
    <h1>Emscripten - Tests</h1>
    <button onclick="onclickEvent(0)">ShowInfo</button>
    <p id="txtResult"></p>
    
    <script>
        function GetOrientationString(orientation) {
            switch (orientation) {
                case 0:
                    return "Landscape";
                case 1:
                    return "Portrait";
                case 2:
                    return "Square";
                default:
                    return "ðŸš«";
            }
        }

        async function onclickEvent(btn) {
            const id = document.getElementById("txtResult");
            
            try {
                switch (btn) {
                    
                    case 0:
                        //Reference: https://amiunique.org/fp
                        //https://webglreport.com/
                        //https://panopticlick.eff.org/

                        var innerHTML = "";
                        var myDate = new Date();
                        innerHTML += "<br /><b>Browser : </b>" + (await Insane.Module.BrowserGetNameAsync(null) || "ðŸš«") + "<br />";
                        innerHTML += "<br /><b>Fingerprint : </b>" + (await Insane.Module.BrowserGetFingerprintAsync("Salt here") || "ðŸš«") + "<br />";
                        innerHTML += "<b>UserAgent:</b> " + Insane.Module.BrowserGetUserAgent() + "<br />";
                        innerHTML += "<b>Operating System : </b>" + (Insane.Module.BrowserGetOS(null) || "ðŸš«") + "<br /><br />";
                        innerHTML += "<b>ScreenHeight:</b> " + (Insane.Module.BrowserGetScreenHeight() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>ScreenWidth:</b> " + (Insane.Module.BrowserGetScreenWidth() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>ScreenSize:</b> " + (Insane.Module.BrowserGetScreenSize() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>Screen Orientation:</b> " + GetOrientationString(Insane.Module.BrowserGetScreenOrientation()) + "<br /><br />";

                        innerHTML += "<b>AvailableScreenHeight:</b> " + (Insane.Module.BrowserGetAvailableScreenHeight() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>AvailableScreenWidth:</b> " + (Insane.Module.BrowserGetAvailableScreenWidth() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>AvailableScreenSize:</b> " + (Insane.Module.BrowserGetAvailableScreenSize() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>AvailableScreenOrientation:</b> " + GetOrientationString(Insane.Module.BrowserGetAvailableScreenOrientation()) + "<br /><br />";

                        innerHTML += "<b>ViewportHeight:</b> " + (Insane.Module.BrowserGetViewportHeight() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>ViewportWidth:</b> " + (Insane.Module.BrowserGetViewportWidth() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>ViewportSize:</b> " + (Insane.Module.BrowserGetViewportSize() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>ViewportOrientation:</b> " + GetOrientationString(Insane.Module.BrowserGetViewportOrientation()) + "<br /><br />";

                        innerHTML += "<b>WebGLRenderer : </b>" + (Insane.Module.BrowserGetWebGLRenderer() || "ðŸš«") + "<br />";
                        innerHTML += "<b>WebGLVendor : </b>" + (Insane.Module.BrowserGetWebGLVendor() || "ðŸš«") + "<br /><br />";

                        innerHTML += "<b>MaxTouchPoints:</b> " + (Insane.Module.BrowserGetMaxTouchPoints() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>DeviceMemory:</b> " + (Insane.Module.BrowserGetDeviceMemory() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>NavigatorHardwareConcurrency:</b> " + (Insane.Module.BrowserGetHardwareConcurrency() ?? "ðŸš«") + "<br /><br />";
                        innerHTML += "<b>Language:</b> " + (Insane.Module.BrowserGetLanguage() ?? "ðŸš«") + "<br />";
                        innerHTML += "<b>Languages:</b> <br />";
                        innerHTML += "<ul>";
                        var langs = Insane.Module.BrowserGetLanguages();
                        for (let i = 0; i < langs.length; i++) {
                            innerHTML += "<li><b>Language</b>: " + (langs[i] ?? "ðŸš«") + " </li>";
                        }
                        innerHTML += "</ul>";

                        innerHTML += "<b>TimezoneOffset Minutes:</b> " + (Insane.Module.BrowserGetTimezoneOffsetMinutes()) + "<br />";
                        innerHTML += "<b>TimezoneOffset Seconds:</b> " + (Insane.Module.BrowserGetTimezoneOffsetSeconds()) + "<br />";
                        innerHTML += "<b>TimezoneOffset Milliseconds:</b> " + (Insane.Module.BrowserGetTimezoneOffsetMilliseconds()) + "<br /><br />";

                        innerHTML += "<b>NavigatorDoNotTrack:</b> " + Insane.Module.BrowserGetDoNotTrack() + "<br />";
                        innerHTML += "<b>Cookies Supported:</b> " + Insane.Module.BrowserHasCookiesSupport()  + "<br /><br />";

                        var mimeTypes = Insane.Module.BrowserGetMimeTypes();
                        innerHTML += "<b>NavigatorMimeTypes:</b> " + (mimeTypes.length ?? "ðŸš«") + "<br />";
                        innerHTML += "<ul>";
                        for (let i = 0; i < mimeTypes.length; i++) {
                            innerHTML += "<li>MimeType { <b>Type</b>: " + (mimeTypes[i].Type || "ðŸš«") + " | <b>Description:</b> " + (mimeTypes[i].Description || "ðŸš«") + " | <b>Suffixes:</b> " + (mimeTypes[i].Suffixes || "ðŸš«") + " }</li>";
                        }
                        innerHTML += "</ul>";

                        var plugins = Insane.Module.BrowserGetPlugins();
                        innerHTML += "<br><b>NavigatorPlugins:</b> " + (plugins.length ?? "ðŸš«") + "<br />";
                        innerHTML += "<ul>";
                        for (let i = 0; i < plugins.length; i++) {
                            innerHTML += "<li>Plugin { <b>Name</b>: " + (plugins[i].Name || "ðŸš«");
                            innerHTML += "<ul>";
                            for (let j = 0; j < plugins[i].MimeTypes.length; j++) {
                                innerHTML += "<li>MimeType{ <b>Type</b>: " + (plugins[i].MimeTypes[j].Type || "ðŸš«") + " | <b>Description:</b> " + (plugins[i].MimeTypes[j].Description || "ðŸš«") + " | <b>Suffixes:</b> " + (plugins[i].MimeTypes[j].Suffixes || "ðŸš«") + " }</li>";
                            }
                            innerHTML += "</ul>";
                            innerHTML += " }</li>";
                        }
                        innerHTML += "</ul><br />";
                        let counter = 0;
                        for (var value in Object.getOwnPropertyNames(Navigator.prototype)) {
                            //console.log(value.Name);
                            counter++;
                        }
                        innerHTML += "<b>Navigator TotalProperties: </b>" + (counter ?? "ðŸš«") + "<br />";

                        id.innerHTML = innerHTML;
                        //console.log(innerHTML);
                        break;
                }
            } catch (error) {
                id.innerHTML += String(error) + "<br />";
            }

        }
    </script>
</body>

</html>